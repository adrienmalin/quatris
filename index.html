<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <title>QUATRIS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="dark">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
    <link href="css/common.css" rel="stylesheet">
    <link href="css/99.css" rel="stylesheet" title="99">
    <link href="css/effect.css" rel="alternate stylesheet" title="Effet">
    <link href="css/neon.css" rel="alternate stylesheet" title="Néon">
    <link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
  </head>
  <body data-bs-theme="dark">
    <div class="modal fade" id="settingsModal" data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 id="titleHeader" class="modal-title w-100 text-center">QUATRIS</h1>
          </div>
          <div class="modal-body">
            <form name="settingsForm" class="needs-validation" novalidate>
              <fieldset id="keyBindFielset" class="row g-2 mb-3 align-items-center text-center">
                <legend class="text-start">Commandes</legend>
                <label for="moveLeftInput" title="Gauche" class="col-sm-2 col-form-label d-flex align-items-center justify-content-center">
                  <i class="bi bi-arrow-left"></i>
                </label>
                <div class="col-sm-4">
                  <input name="moveLeft" id="moveLeftInput" type="text" class="form-control text-center" value="←" onclick="changeKey(this)" placeholder="Touche ?" required>
                </div>
                <div class="col-sm-4">
                  <input name="moveRight" id="moveRightInput" type="text" class="form-control text-center" value="→" onclick="changeKey(this)" placeholder="Touche ?" required>
                </div>
                <label for="moveRightInput" title="Droite" class="col-sm-2 col-form-label d-flex align-items-center justify-content-center">
                  <i class="bi bi-arrow-right"></i>
                </label>
                <label for="rotateCounterclockwiseInput" title="Rotation anti-horaire" class="col-sm-2 col-form-label d-flex align-items-center justify-content-center">
                  <i class="bi bi-arrow-counterclockwise"></i>
                </label>
                <div class="col-sm-4">
                  <input name="rotateCounterclockwise" id="rotateCounterclockwiseInput" type="text" class="form-control text-center" value="w" onclick="changeKey(this)" placeholder="Touche ?" required>
                </div>
                <div class="col-sm-4">
                  <input name="rotateClockwise" id="rotateClockwiseInput" type="text" class="form-control text-center" value="↑" onclick="changeKey(this)" placeholder="Touche ?" required>
                </div>
                <label for="rotateClockwiseInput" title="Rotation horaire" class="col-sm-2 col-form-label d-flex align-items-center justify-content-center">
                  <i class="bi bi-arrow-clockwise"></i>
                </label>
                <label for="softDropInput" title="Chute lente" class="col-sm-2 col-form-label d-flex align-items-center justify-content-center">
                  <i class="bi bi-arrow-down-short"></i>
                </label>
                <div class="col-sm-4">
                  <input name="softDrop" id="softDropInput" type="text" class="form-control text-center" value="↓" onclick="changeKey(this)" placeholder="Touche ?" required>
                </div>
                <div class="col-sm-4">
                  <input name="hardDrop" id="hardDropInput" type="text" class="form-control text-center" value="Espace" onclick="changeKey(this)" placeholder="Touche ?" required>
                </div>
                <label for="hardDropInput" title="Chute rapide" class="col-sm-2 col-form-label d-flex align-items-center justify-content-center">
                  <i class="bi bi-download"></i>
                </label>
                <label for="holdInput" title="Échanger la pièce" class="col-sm-2 col-form-label d-flex align-items-center justify-content-center">
                  <i class="bi bi-arrow-left-right"></i>
                </label>
                <div class="col-sm-4">
                  <input name="hold" id="holdInput" type="text" class="form-control text-center" value="c" onclick="changeKey(this)" placeholder="Touche ?" required>
                </div>
                <div class="col-sm-4">
                  <input name="pause" id="pauseInput" type="text" class="form-control text-center" value="Échap" onclick="changeKey(this)" placeholder="Touche ?" required>
                </div>
                <label for="pauseInput" title="Pause" class="col-sm-2 col-form-label d-flex align-items-center justify-content-center">
                  <i class="bi bi-pause"></i>
                </label>
              </fieldset>
              <fieldset id="autorepearFieldset" class="row g-2 mb-3 align-items-center text-center">
                <legend class="text-start">Répétition automatique</legend>
                <label for="arrInput" class="col-sm-2 col-form-label" title="Automatic Repeat Rate : période de répétition de l'action">ARR</label>
                <div class="col-sm-4">
                  <div class="input-group">
                    <input name="arr" id="arrInput" type="number" class="form-control text-center" value="50" min="2" max="200" step="1">
                    <div class="input-group-text">ms</div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="input-group">
                    <input name="das" id="dasInput" type="number" class="form-control text-center" value="300" min="100" max="500" step="5">
                    <div class="input-group-text">ms</div>
                  </div>
                </div>
                <label for="dasInput" class="col-sm-2 col-form-label" title="Delayed AutoShift : délai initial avant répétition">DAS</label>
              </fieldset>
              <fieldset class="row g-2 mb-3 align-items-center text-center">
                <legend class="text-start">Partie</legend>
                <label for="levelInput" class="col-sm-2 col-form-label text-center">Niveau</label>
                <div class="col-sm-4">
                  <input name="startLevel" id="levelInput" type="number" class="form-control text-center" value="1" min="1" max="15">
                </div>
                <div class="col-sm-4">
                  <button id="resumeButton" type="submit" class="btn btn-primary w-100" autofocus>Jouer</button>
                </div>
              </fieldset>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="container-fluid d-flex h-100 justify-content-center d-flex align-items-center">
      <div class="row row-cols-auto align-items-start gap-2">
        <div class="col d-flex flex-column align-items-end">
          <div class="card mb-4">
            <div class="card-header text-center"><strong>HOLD</strong></div>
            <div class="card-body p-0">
              <table id="holdTable" class="minoes-table">
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              </table>
          </div>
        </div>
          <div class="card w-100">
            <table id="statsTable" class="table mb-0 align-middle">
              <tr><td>Score</td><th id="scoreCell" class="text-end">0</th></tr>
              <tr><td>Meilleur score</td><th id="highScoreCell" class="text-end">
                <script>document.write(Number(localStorage["highScore"]) || 0)</script>
              </th></tr>
              <tr><td>Niveau</td><th id="levelCell" class="text-end">0</th></tr>
              <tr><td>But</td><th id="goalCell" class="text-end">0</th></tr>
              <tr><td>Temps</td><th id="timeCell" class="text-end">00:00</th></tr>
            </table>
          </div>
        </div>
        <div class="col">
          <div class="card">
            <table id="matrixTable" class="minoes-table" style="--buffer-zone-rows: 5">
              <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              <tr class="matrix"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
            </table>
          </div>
          <span id="messagesSpan"></span>
        </div>
        <div class="col">
          <div class="card">
            <div class="card-header text-center"><strong>NEXT</strong></div>
            <div class="card-body p-0">
              <table id="nextTable" class="minoes-table caption-top">
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                <tr class="buffer-zone"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
              </table>
            </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script src="app.js"></script>
    <script>
      
    </script>
  </body>
</html>


